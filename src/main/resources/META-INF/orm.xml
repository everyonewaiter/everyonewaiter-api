<?xml version="1.0" encoding="UTF-8"?>
<entity-mappings
  xmlns="http://www.hibernate.org/xsd/orm/mapping"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.hibernate.org/xsd/orm/mapping https://hibernate.org/xsd/orm/mapping/mapping-3.1.0.xsd"
>

  <access>FIELD</access>

  <entity class="com.everyonewaiter.domain.health.ApkVersion">
    <table name="apk_version"/>

    <attributes>
      <basic name="majorVersion">
        <column name="apk_major_version" nullable="false"/>
      </basic>
      <basic name="minorVersion">
        <column name="apk_minor_version" nullable="false"/>
      </basic>
      <basic name="patchVersion">
        <column name="apk_patch_version" nullable="false"/>
      </basic>
      <basic name="downloadUrl">
        <column name="apk_download_url" nullable="false" length="255"/>
      </basic>
    </attributes>
  </entity>

  <entity class="com.everyonewaiter.domain.contact.Contact">
    <table name="contact">
      <index name="idx_contact_name_license_phone_number" column-list="name, license, phoneNumber"/>
      <index name="idx_contact_name_phone_number" column-list="name, phoneNumber"/>
      <index name="idx_contact_license_phone_number" column-list="license, phoneNumber"/>
      <index name="idx_contact_phone_number" column-list="phoneNumber"/>
    </table>

    <attributes>
      <basic name="name">
        <column name="name" nullable="false" length="30"/>
      </basic>
      <basic name="state">
        <column name="state" nullable="false"/>
        <enumerated>STRING</enumerated>
      </basic>
      <embedded name="license">
        <attribute-override name="value">
          <column name="license"/>
        </attribute-override>
      </embedded>
      <embedded name="phoneNumber">
        <attribute-override name="value">
          <column name="phone_number"/>
        </attribute-override>
      </embedded>
    </attributes>
  </entity>

  <embeddable class="com.everyonewaiter.domain.shared.BusinessLicense">
    <attributes>
      <basic name="value">
        <column name="license" nullable="false" length="12"/>
      </basic>
    </attributes>
  </embeddable>

  <embeddable class="com.everyonewaiter.domain.shared.PhoneNumber">
    <attributes>
      <basic name="value">
        <column name="phone_number" nullable="false" length="11"/>
      </basic>
    </attributes>
  </embeddable>

  <embeddable class="com.everyonewaiter.domain.shared.Position">
    <attributes>
      <basic name="value">
        <column name="position" nullable="false"/>
      </basic>
    </attributes>
  </embeddable>

</entity-mappings>
