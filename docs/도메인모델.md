# 모두의 웨이터 도메인 모델

## 목차

- [공용](#공용)
- [헬스 체크](#헬스-체크)
- [서비스 도입 문의](#서비스-도입-문의)
- [알림](#알림)

## 공용

### BusinessException

_Exception_

#### 속성

- `errorCode`: 커스텀 에러 코드

### AuthenticationException

_BusinessException_

### AccessDeniedException

_BusinessException_

### 에러 코드

_Enum_

#### 상수

[ErrorCode.java](../src/main/java/com/everyonewaiter/domain/shared/ErrorCode.java)

#### 속성

- `status`: Http 상태 코드
- `message`: 클라이언트 전송용 메시지

### 페이지네이션(Pagination)

_Value Object_

#### 속성

- `page`: 페이지 번호
- `size`: 조회할 데이터 수
- `pageSkipSize`: FastForward 페이지 이동 사이즈 (default 5)

#### 행위

- `countLimit()`: FastForward 페이지 계산을 위해 `count` 조회해야하는 데이터 수를 반환한다.
- `limit()`: 조회할 데이터 수를 반환한다.
- `offset()`: `page`와 `size`를 가지고 스킵해야하는 `offset`을 계산하여 반환한다.

### 페이징(Paging)

_Value Object_

#### 속성

- `content`: 현재 페이지 조회 데이터
- `page`: 현재 페이지 번호
- `size`: 조회 데이터 수
- `pageSkipSize`: FastForward 페이지 이동 사이즈
- `count`: FastForward 페이지 `count` 조회 결과 (실 데이터 수)
- `hasNext`: 다음 페이지 여부
- `hasPrevious`: 이전 페이지 여부
- `isFirst`: 첫번째 페이지 여부
- `isLast`: 마지막 페이지 여부
- `fastForwardPage`: FastForward 페이지 번호
- `fastBackwardPage`: FastBackward 페이지 번호

#### 행위

- `map()`: 현재 페이지 조회 데이터의 타입을 변경한다.
- `getContent()`: 현재 페이지 조회 데이터를 변경 불가능한 컬렉션으로 래핑하여 반환한다.

### 이메일(Email)

_Value Object_

#### 속성

- `address`: 이메일 주소

### 사업자 등록 번호(BusinessLicense)

_Value Object_

#### 속성

- `value`: 사업자 등록 번호

### 휴대폰 번호(PhoneNumber)

_Value Object_

#### 속성

- `value`: 휴대폰 번호

### 위치(Position)

_Value Object_

#### 속성

- `value`: 위치 정수값

#### 행위

- `static next()`: 다음 위치값을 가진 위치를 생성한다.
- `static copy()`: 동일한 위치값을 가진 위치를 생성한다.
- `static isMoved()`: 위치값이 이동했는지 여부를 반환한다.
- `move()`: 위치를 이동한다.

### 위치 이동(PositionMove)

_Enum_

#### 상수

- `PREV`: 이전
- `NEXT`: 다음

#### 속성

- `moveCount`: 이동해야 할 위치값

#### 행위

- `move()`: 이동 후 위치값을 반환한다.

## 헬스 체크

### 앱 버전 정보(ApkVersion)

_Entity_

#### 속성

- `majorVersion`: 앱 메이저 버전
- `minorVersion`: 앱 마이너 버전
- `patchVersion`: 앱 패치 버전
- `downloadUrl`: 앱 다운로드 링크

#### 행위

- `static create()`: 앱 버전 정보를 생성한다.

### ApkVersionNotFoundException

_BusinessException_

## 서비스 도입 문의

### 서비스 도입 문의(Contact)

_Entity_

#### 속성

- `name`: 서비스를 도입할 매장 이름
- `phoneNumber`: 사장님 휴대폰 번호
- `license`: 매장 사업자 등록 번호
- `state`: `ContactState` 서비스 도입 문의 진행 상태

#### 행위

- `static create()`: 서비스 도입 문의를 생성한다.
- `processing()`: 서비스 도입 문의 진행 상태를 처리중 상태로 변경한다.
- `complete()`: 서비스 도입 문의 진행 상태를 처리 완료 상태로 변경한다.

### 서비스 도입 문의 진행 상태(ContactState)

_Enum_

#### 상수

- `PENDING`: 접수 대기
- `PROCESSING`: 처리중
- `COMPLETE`: 처리 완료

### AlreadyExistsUncompletedContactException

_BusinessException_

### ContactNotFoundException

_BusinessException_

## 알림

### 이메일—SimpleEmail

_Value Object_

#### 속성

- `from`: 발신 이메일
- `to`: 수신 이메일
- `subject`: 이메일 제목
- `content`: 이메일 본문

### 이메일—TemplateEmail

_Value Object_

#### 속성

- `from`: 발신 이메일
- `to`: 수신 이메일
- `subject`: 이메일 제목
- `template`: `EmailTemplate` 이메일 템플릿
- `templateVariables`: 이메일 템플릿 변수 목록

#### 행위

- `addTemplateVariable()`: 이메일 템플릿 변수를 추가한다.
- `toSimpleEmail()`: `SimpleEmail` 도메인 객체로 변환한다.

### 이메일—EmailTemplate

_Enum_

#### 상수

- `EMAIL_AUTHENTICATION`: 이메일 인증
- `STORE_REGISTRATION_APPROVE`: 매장 등록 승인
- `STORE_REGISTRATION_REJECT`: 매장 등록 반려

#### 속성

- `templateName`: 템플릿 파일명
- `variableCount`: 템플릿 변수 개수

#### 행위

- `createContent()`: 템플릿을 사용한 이메일 본문을 생성한다.

### 알림톡—AlimTalkMessage

_Value Object_

#### 속성

- `templateCode`: 알림톡 템플릿 코드
- `to`: 알림톡 수신 휴대폰 번호
- `content`: 알림톡 본문
- `useSmsFailover`: 알림톡 발송 실패 시 SMS 사용 여부
- `buttons`: 알림톡 버튼 목록

#### 행위

- `addButton()`: 알림톡 버튼을 추가한다.

### 알림톡—AlimTalkTemplate

_Enum_

#### 상수

- `AUTHENTICATION_CODE`: 인증 번호 안내
- `WAITING_REGISTRATION`: 웨이팅 등록
- `WAITING_CUSTOMER_CALL`: 웨이팅 손님 호출
- `WAITING_CUSTOMER_CANCEL`: 웨이팅 손님 취소
- `WAITING_STORE_CANCEL`: 웨이팅 매장 취소

#### 속성

- `templateCode`: 네이버 클라욷 플랫폼에 등록된 템플릿 코드
- `templateContent`: 네이버 클라욷 플랫폼에 등록된 템플릿 본문 (정확히 일치해야함)

#### 행위

- `createContent()`: 템플릿을 사용한 알림톡 본문을 반환한다.

### 알림톡—AlimTalkButton

_Marker Interface_

### 알림톡—AlimTalkWeblinkButton

_Value Object_

_AlimTalkButton_

#### 속성

- `type`: 알림톡 버튼 타입 (WL)
- `name`: 알림톡 버튼 이름
- `linkMobile`: 모바일 웹 링크
- `linkPc`: PC 웹 링크

### 알림톡—AlimTalkButtonTemplate

_Interface_

#### 행위

- `createButton()`: 알림톡 버튼을 생성한다.

### 알림톡—AlimTalkWeblinkButtonTemplate

_Enum_

_AlimTalkButtonTemplate_

#### 상수

- `WAITING_CANCEL`: 웨이팅 취소 버튼
- `CHECK_MY_TURN`: 내 순서 확인하기 버튼
- `MENU_PREVIEW`: 메뉴 미리보기 버튼

#### 속성

- `name`: 버튼 이름
- `link`: 버튼 클릭 시 이동할 웹(앱)링크

#### 행위

- `createButton()`: 알림톡 버튼을 생성한다.

### 디스코드—DiscordEmbeds

_Value Object_

#### 속성

- `embeds`: `DiscordEmbed` 목록

### 디스코드—DiscordEmbed

_Value Object_

#### 속성

- `title`: 디스코드 임베드 제목
- `description`: 디스코드 임베드 설명
- `color`: `DiscordColor` 디스코드 임베드 색상
- `fields`: 디스코드 임베드 필드 목록

#### 행위

- `addField()`: 디스코드 임베드 필드를 추가한다.

### 디스코드—DiscordField

_Value Object_

#### 속성

- `name`: 필드 이름
- `value`: 필드값

### 디스코드—DiscordColor

_Enum_

#### 상수

- `GREEN`: 초록색
- `BLUE`: 파란색
- `DARK_BLUE`: 진한 파란색
- `RED`: 빨간색

#### 속성

- `value`: 10진수 색상값
